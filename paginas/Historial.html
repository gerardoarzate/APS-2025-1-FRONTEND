<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Historial de Envíos - UAQ EXPRESS</title>
  <link rel="stylesheet" href="../css/global.css" />
  <link rel="stylesheet" href="../css/historial.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

  <!-- Barra lateral -->
  <aside class="sidebar">     
  </aside>

  <!-- Contenido principal -->
  <main class="content">
    <h1 class="titulo-envio">Historial de envíos</h1>
    <section class="card">
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Fecha</th>
              <th onclick="ordenarPorFolio()">Folio del envío <span id="flecha">↕</span></th>
              <th>Status</th>
              <th>Lugar de Envío</th>
              <th>Lugar de Destino</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="tabla-envios">
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Scripts -->
  <script>
    let asc = true;
    function ordenarPorFolio() {
      const tabla = document.getElementById("tabla-envios");
      const filas = Array.from(tabla.querySelectorAll("tr"));
      filas.sort((a, b) => {
        const folioA = parseInt(a.children[1].textContent);
        const folioB = parseInt(b.children[1].textContent);
        return asc ? folioA - folioB : folioB - folioA;
      });
      tabla.innerHTML = '';
      filas.forEach(fila => tabla.appendChild(fila));
      document.getElementById("flecha").textContent = asc ? "⬆" : "⬇";
      asc = !asc;
    }
  </script>

  <script src="../js/comprobarSesion.js"></script>
  <script src="../js/logout.js"></script>
  <script src="../js/sidebar.js"></script>
  <script src="../js/fetchApi.js"></script>
  <script src="../js/historial/main.js"></script>
</body>
</html>